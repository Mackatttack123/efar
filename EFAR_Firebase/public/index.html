<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <link rel="shortcut icon" href="icon.ico">

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- firebase setup -->
    <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBFuWlzZHNH98eipwY9H9H3eLoKKugGDUM",
        authDomain: "efarapp-a5f18.firebaseapp.com",
        databaseURL: "https://efarapp-a5f18.firebaseio.com",
        projectId: "efarapp-a5f18",
        storageBucket: "efarapp-a5f18.appspot.com",
        messagingSenderId: "788853816459"
      };
      firebase.initializeApp(config);
    </script>

    <!-- checking for firebase auth -->
    <script>
      var user_email;
      var user_id;
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          user_email = user.email;
          user_id = user_email.replace('@email.com','');
          firebase.database().ref('/dispatchers/' + user_id + "/dipatcher_name").set(user_id);
          // ...
          window.location = 'dashboard.html';
        }else{
          document.getElementsByTagName("html")[0].style.visibility = "visible";
        }
      });
    </script>

     <!-- P5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.10/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.10/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.10/addons/p5.sound.min.js"></script>

    <!-- my javascript -->
    <script src="login.js"></script>
    <link rel="stylesheet" href="hidepage.css">


    <style type="text/css">

      .btn {
        color: grey;
      }

      .btn:hover {
        color: var(--efar-blue);
      }

      .cont-efar {
        color: white;
        font-weight: normal;
      }

      .cont-efar:hover {
        color: white;
      }

      /* roboto-regular - latin */
      @font-face {
        font-family: 'Roboto';
        font-style: normal;
        font-weight: 400;
        src: url('../fonts/roboto-v18-latin-regular.eot'); /* IE9 Compat Modes */
        src: local('Roboto'), local('Roboto-Regular'),
             url('../fonts/roboto-v18-latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
             url('../fonts/roboto-v18-latin-regular.woff2') format('woff2'), /* Super Modern Browsers */
             url('../fonts/roboto-v18-latin-regular.woff') format('woff'), /* Modern Browsers */
             url('../fonts/roboto-v18-latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */
             url('../fonts/roboto-v18-latin-regular.svg#Roboto') format('svg'); /* Legacy iOS */
      }
      /* roboto-700 - latin */
      @font-face {
        font-family: 'Roboto';
        font-style: normal;
        font-weight: 700;
        src: url('../fonts/roboto-v18-latin-700.eot'); /* IE9 Compat Modes */
        src: local('Roboto Bold'), local('Roboto-Bold'),
             url('../fonts/roboto-v18-latin-700.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
             url('../fonts/roboto-v18-latin-700.woff2') format('woff2'), /* Super Modern Browsers */
             url('../fonts/roboto-v18-latin-700.woff') format('woff'), /* Modern Browsers */
             url('../fonts/roboto-v18-latin-700.ttf') format('truetype'), /* Safari, Android, iOS */
             url('../fonts/roboto-v18-latin-700.svg#Roboto') format('svg'); /* Legacy iOS */
      }

      /* roboto-700italic - latin */
      @font-face {
        font-family: 'Roboto';
        font-style: italic;
        font-weight: 700;
        src: url('../fonts/roboto-v18-latin-700italic.eot'); /* IE9 Compat Modes */
        src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'),
             url('../fonts/roboto-v18-latin-700italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
             url('../fonts/roboto-v18-latin-700italic.woff2') format('woff2'), /* Super Modern Browsers */
             url('../fonts/roboto-v18-latin-700italic.woff') format('woff'), /* Modern Browsers */
             url('../fonts/roboto-v18-latin-700italic.ttf') format('truetype'), /* Safari, Android, iOS */
             url('../fonts/roboto-v18-latin-700italic.svg#Roboto') format('svg'); /* Legacy iOS */
      }

      :root{
        --efar-blue:rgb(2, 55, 98);
      }

      html,
      body {
        min-height: 100vh;
      }

    /*for login*/
      .loginCard {
        position: absolute;
        width: 100%;
        max-width: 400px;
        height: 430px;
        z-index: 15;
        top: calc(30% - 100px);
        left: 50%;
        margin: 0 0 0 -200px;
        background: white;
        box-shadow: 0px 2px 5px gray;
        border-radius: 10px;
      }

      .loginField {
        padding: 30px;
        height: 100%;
      }

      .loginHeader {
      }

      .loginForm {
        text-align: right;
        padding: 50px 10px 0px 10px;
        height: calc(100% - 50px);
      }

      .usernamePassword {
        width: 100%;
        padding: 5px 10px 5px 10px;
        margin: 0px 0px 50px 0px;
      }

      .footer {
        position: relative;
        right: 21px;
        top: 35px;
        font-style: italic;
        font-size: 10px;
        color: grey;
        width: 400px;
      }
    </style>  


    <title>LOGIN</title>
  </head>
  <body style="background-color: #d3dee7; font-family: Roboto; min-width: 400px; min-height: 430px;">

    <div class="loginCard">
      <div class="loginField">
        <div class= "loginHeader">
          <img src="letterhead.svg" style="height: 50px;">
          <span class="navbar-text" style="font-family: Roboto; font-style: italic; font-weight: 700; 
          color: var(--efar-blue); float: right;  padding: 13px 0px 13px 0px;">
            EFAR DISPATCH
          </span>
        </div>
        <form class="loginForm">
          <input type="text" class="usernamePassword" name="username" id="Username" placeholder="Username">
          <input type="password" class="usernamePassword" name="password" id="Password" placeholder="Password">
          <button type="button" id="call_efar_button" onclick="attempt_login()"  class="btn btn-primary cont-efar" style="padding: 5px 10px 5px 10px; font-size: 16px; font-weight: 700; display: inline-block;"><i class="material-icons" style="font-size: 16px; position: relative; top: 1.5px; right: 3px; width: 16px;">lock_open</i>LOGIN</button>
        </form>
        <div class="footer">
          Technology by Mack FitzPatrick and Haakon Sigurslid &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;  EFAR System
        </div>
      </div>


    </div>
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
  </body>
</html>